{% extends "groups/group_base.html" %}
{% block pregroup %}
<h1 class="container">{{group.name}}</h1>
<div class="container">
<h2>Member Count: {{group.members.count}}</h2>
</div>

<div class="content container">
    {% if user in group.members.all %}
    <a href="{% url 'groups:leave' slug=group.slug %}"
       class="btn btn-lg btn-fill btn-warning"><svg class="bi bi-x-circle-fill" width="1em" height="1em"
                                                    viewBox="0 0 16 16" fill="currentColor"
                                                    xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.146-3.146a.5.5 0 0 0-.708-.708L8 7.293 4.854 4.146a.5.5 0 1 0-.708.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .708.708L8 8.707l3.146 3.147a.5.5 0 0 0 .708-.708L8.707 8l3.147-3.146z"/>
</svg>Leave</a>

    {% else %}
    <a href="{% url 'groups:join' slug=group.slug %}"
       class="btn btn-lg btn-fill btn-warning"><svg class="bi bi-person-plus-fill" width="1em" height="1em"
                                                    viewBox="0 0 16 16" fill="currentColor"
                                                    xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm7.5-3a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"/>
  <path fill-rule="evenodd" d="M13 7.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0v-2z"/>
</svg>Join</a>



    {% endif %}

</div>

{% endblock %}

{% block group_content %}
<div class="col-md-8 container">
    {% if group.posts.count == 0 %}
        <h2>No posts in this group... yet!</h2>
        {% else %}
        {% for post in group.posts.all %}
             {% include "posts/_post.html" %}
        {% endfor %}
    {% endif %}

</div>

{% endblock %}